// Demo narratives and complete example data for each dataset
// When "Generate Explanation" is clicked in demo mode:
// 1. The factual/counterfactual will be loaded from here
// 2. The raw output will be parsed to extract JSON automatically
// 3. All results will be displayed as in standard mode

export const demoNarratives = {
  // ============================================================================
  // INSTRUCTIONS:
  // For each dataset, add an entry with the dataset key (e.g., 'adult', 'titanic', 'california', 'diabetes')
  // 
  // Each dataset should have:
  //   - factual: The factual instance (object with feature values)
  //   - counterfactual: The counterfactual instance (object with feature values)
  //   - raw_output: The complete generated text from SLM (will be parsed automatically)
  //   - narrative: The final narrative explanation (string)
  //   - drafts: Array of 5 draft objects, each with:
  //       - text: The draft narrative explanation (string)
  //       - status: "success" for successful generation, "failed" for failed
  //   - nss: Narrative Stability Score (number between 0 and 1)
  //       - Low (<0.7): High variation between drafts
  //       - Medium (0.7-0.8): Moderate agreement
  //       - High (>0.8): Strong consensus
  // 
  // NOTE: The parsed_json will be automatically extracted from raw_output
  // ============================================================================
  
  adult: {
    "factual": {
      "age": 33,
      "workclass": "Private",
      "education": "School",
      "marital_status": "Divorced",
      "occupation": "Blue-Collar",
      "race": "White",
      "gender": "Male",
      "hours_per_week": 35,
      "income": 0
    },
    "counterfactual": {
      "age": 33,
      "workclass": "Private",
      "education": "School",
      "marital_status": "Married",
      "occupation": "Sales",
      "race": "White",
      "gender": "Male",
      "hours_per_week": 35,
      "income": 1
    },
    raw_output: `<think>\nOkay, let me tackle this counterfactual explanation request. First, I need to carefully analyze all the given inputs to construct a proper response.\n\nLooking at the dataset description, it's the Adult Census Income dataset with standard features. The factual example has income=0 (<=50K) while counterfactual has income=1 (>50K). The only differences between them are marital_status changing from 'Divorced' to 'Married' and occupation changing from 'Blue-Collar' to 'Sales'.\n\nHmm, I notice all five draft explanations focus almost identically on these two changes. They all agree that these two modifications cause the income classification flip. But I need to verify if there's any nuance I'm missing. \n\nChecking the dataset details again... yes, 'Education' is listed as 'School' in both cases, so that's not a factor. 'Workclass' remains 'Private' too. So the only differing features are marital_status and occupation. \n\nNow for the reasoning part. The drafts mention that marriage correlates with higher income potential and sales jobs have established higher pay scales. But wait - I should confirm if the dataset actually shows this correlation. From my knowledge of the Adult dataset, yes: married individuals tend to have higher incomes, and sales occupations do correlate with >$50K income. \n\nWhat about interactions? The drafts suggest they work together - being married in a sales job creates a compound effect. That makes sense because in reality, married people in sales roles often earn more than single blue-collar workers. So the interaction is valid here.\n\nFor importance ranking... since both changes are equally responsible (as per the drafts saying \"two key changes\"), they should share rank 1. No other features changed, so no ties needed beyond those two. Wait, but the instructions say \"based ONLY on identified contribution\". Since both changes are equally impactful (the drafts don't specify one is more important), they get tied rank 1.\n\nWait, but looking at the draft explanations, they treat them as equally important. For example, Draft 4 says \"model prioritizes occupational status over marital status\" but then mentions both are needed. Actually, they're symmetrically important here. So yes, tied rank 1.\n\nNow for the explanation synthesis. All drafts agree on the two changes. Draft 4 incorrectly claims \"model prioritizes occupational status over marital status\" - that's inaccurate. The model treats them as equally important. So I'll correct that error in my synthesis.\n\nAlso noting that 'Education' is still 'School' in both cases, so it doesn't contribute to the change. Similarly, all other features remain constant.\n\nThe summary needs to be ~250 words, flowing naturally. I'll emphasize:\n- Only two features changed\n- Their specific impacts (marriage = stability, sales = higher pay)\n- How they interact to trigger the reclassification\n- Why others didn't matter\n\nAvoiding technical jargon like \"logistic regression\" since the user wants natural language. And correcting Draft 4's misstatement about priority.\n\n*Double-checking word count* - aiming for 250 words. My draft summary will cover:\n- The two changed features\n- Why they matter (dataset patterns)\n- How they interact\n- Why others remain constant\n- The model's behavior\n\nFinally, structuring the JSON as specified. Making sure \"income\" appears in feature_changes as requested.\n\n*Cross-verifying all requirements*\n\u2713 Feature changes listed correctly\n\u2713 Target variable included\n\u2713 Reasoning covers contribution, interaction, ranking\n\u2713 Correctly resolves Draft 4's error\n\u2713 Summary ~250 words, flowing paragraph\n\nThis seems solid. Time to compile the JSON.\n</think>\n\n{\n    \"feature_changes\": [\n        {\n            \"marital_status\": {\n                \"factual\": \"Divorced\",\n                \"counterfactual\": \"Married\"\n            }\n        },\n        {\n            \"occupation\": {\n                \"factual\": \"Blue-Collar\",\n                \"counterfactual\": \"Sales\"\n            }\n        },\n        {\n            \"income\": {\n                \"factual\": \"0\",\n                \"counterfactual\": \"1\"\n            }\n        }\n    ],\n    \"target_variable_change\": {\n        \"factual\": \"0\",\n        \"counterfactual\": \"1\"\n    },\n    \"reasoning\": \"The model's reclassification hinges exclusively on two feature changes: marital status transitioning from 'Divorced' to 'Married' and occupation shifting from 'Blue-Collar' to 'Sales'. In the Adult dataset, 'Married' status strongly correlates with higher income potential due to household stability and dual-income dynamics, while 'Sales' occupations consistently align with earnings exceeding $50K due to established wage structures and industry benchmarks. These features interact synergistically\u2014the model recognizes that married individuals in sales roles form a statistically significant profile for income above $50K, whereas 'Divorced' and 'Blue-Collar' combinations fall below this threshold. All other features remain constant: age (33), workclass ('Private'), education ('School'), race ('White'), gender ('Male'), and hours-per-week (35) maintain neutrality, confirming the outcome shift stems solely from these two modifications. The model's training data establishes that marital status and occupational categorization are the most influential predictors for income classification, with no competing feature contributions. Thus, both changes hold equal rank 1 due to their identical, equally impactful contribution to crossing the income threshold.\",\n    \"features_importance_ranking\": {\n        \"marital_status\": \"1\",\n        \"occupation\": \"1\"\n    },\n    \"explanation\": \"To transition from a low-income classification (\u2264$50K) to a high-income outcome (>50K), the model requires two specific changes: becoming married and securing a sales occupation. Marriage serves as a powerful indicator of financial stability in the dataset, reflecting household income potential and reduced financial risk, while 'Sales' roles consistently correlate with higher earnings due to structured compensation and industry standards. These modifications interact effectively\u2014the model interprets married individuals in sales roles as forming a stable, high-earning household profile that reliably exceeds the $50K threshold. All other attributes, including age (33), workclass ('Private'), education level ('School'), race ('White'), gender ('Male'), and weekly hours (35), remain unchanged, confirming that the reclassification results exclusively from these two feature adjustments. The model's behavior mirrors real-world socioeconomic patterns, where marital status and occupational categorization jointly determine income predictions. By targeting these two key factors, the counterfactual provides actionable insight: achieving a married status and moving to a sales occupation would satisfy the model's threshold for higher income classification, highlighting how targeted changes to socio-demographic and professional attributes can redirect model decisions without altering other characteristics.\"\n}`,
    narrative: "To transition from a low-income classification (\u2264$50K) to a high-income outcome (>50K), the model requires two specific changes: becoming married and securing a sales occupation. Marriage serves as a powerful indicator of financial stability in the dataset, reflecting household income potential and reduced financial risk, while 'Sales' roles consistently correlate with higher earnings due to structured compensation and industry standards. These modifications interact effectively\u2014the model interprets married individuals in sales roles as forming a stable, high-earning household profile that reliably exceeds the $50K threshold. All other attributes, including age (33), workclass ('Private'), education level ('School'), race ('White'), gender ('Male'), and weekly hours (35), remain unchanged, confirming that the reclassification results exclusively from these two feature adjustments. The model's behavior mirrors real-world socioeconomic patterns, where marital status and occupational categorization jointly determine income predictions. By targeting these two key factors, the counterfactual provides actionable insight: achieving a married status and moving to a sales occupation would satisfy the model's threshold for higher income classification, highlighting how targeted changes to socio-demographic and professional attributes can redirect model decisions without altering other characteristics.",
    drafts: [
      { text: "To transition from a denied income classification to approval, two key changes were required: adopting a married marital status and securing a sales occupation. Marriage typically signifies greater financial stability and household income potential, while 'Sales' roles consistently align with higher earnings compared to 'Blue-Collar' work. These modifications directly addressed the model\u2019s primary predictors for income exceeding $50K. Other factors such as age (33), workclass ('Private'), education level ('School'), race ('White'), gender ('Male'), and weekly hours (35) remained unchanged, confirming that the outcome reversal stemmed solely from these two attribute alterations. The model interprets 'Married' as indicating economic security and 'Sales' as a profession with established salary benchmarks, making them the decisive elements for reclassification. This demonstrates how socio-demographic and occupational traits collectively shape predictive outcomes, revealing actionable pathways for improving income classifications through targeted feature adjustments.", status: "success", ranking: { marital_status: 1, occupation: 1 } },
      { text: "The model predicts that if you were married and worked in a sales position, your income would exceed $50,000. Changing from 'Divorced' to 'Married' status and from 'Blue-Collar' to 'Sales' occupation directly alters the outcome. Marriage is a powerful indicator of higher income in this dataset, reflecting household stability and dual-income dynamics, while 'Sales' roles consistently align with elevated earnings compared to manual labor positions. These changes interact effectively: married individuals often transition into sales roles, creating a compounded effect on income prediction. All other factors\u2014age (33), workclass ('Private'), education level ('School'), and weekly hours (35)\u2014remained unchanged, confirming the classification shift resulted solely from these two modifications. The model\u2019s behavior mirrors real-world socioeconomic patterns, where marital status and occupational categorization serve as pivotal determinants of income classification. By focusing on these two key adjustments, the counterfactual provides clear, actionable insight: achieving a married status and securing a sales position would satisfy the model\u2019s threshold for higher income prediction, illustrating how targeted attribute changes can redirect model decisions.", status: "success", ranking: { marital_status: 1, occupation: 1 } },
      { text: "The model's decision shifted from denying income eligibility to approving it primarily through two interconnected changes: transitioning from 'Divorced' to 'Married' marital status and upgrading occupation to 'Sales'. Being married introduces stability and household income potential, while 'Sales' reflects a profession with established higher compensation levels versus 'Blue-Collar' labor. These modifications directly align with the model's learned patterns where married individuals in sales roles exceed the $50K threshold. All other features\u2014including age (33), workclass ('Private'), education ('School'), race ('White'), gender ('Male'), and weekly hours (35)\u2014remained constant, isolating the causal factors to these two attributes. The model prioritizes socioeconomic context over isolated demographic traits, demonstrating that targeted adjustments to employment and family status can decisively alter predictions. This reveals the model's reliance on observable social and professional correlations, highlighting how minor, realistic changes in key life indicators can redirect outcomes within its predictive logic.", status: "success", ranking: { marital_status: 1, occupation: 1 } },
      { text: "To transition from a low-income classification (\u2264$50K) to a high-income classification (>50K), the model identifies two critical changes: marital status shifting from 'Divorced' to 'Married' and occupation changing from 'Blue-Collar' to 'Sales'. Being married typically reflects greater financial stability in the dataset, where married individuals consistently report higher incomes. Simultaneously, moving to a 'Sales' occupation\u2014a role historically associated with better compensation and career progression\u2014significantly elevates income potential. These changes collectively trigger the model's reclassification, as other features like age (33), workclass ('Private'), education level ('School'), race ('White'), gender ('Male'), and weekly hours (35) remain unchanged. The model prioritizes occupational status over marital status in determining income thresholds, highlighting how professional roles exert stronger influence on income predictions than marital status alone. This demonstrates the model's sensitivity to socioeconomic indicators, where a combination of stable family status and a higher-paying profession creates the minimal necessary adjustment to cross the income threshold.", status: "success", ranking: { occupation: 1, marital_status: 2 } },
      { text: "To transition from a low-income classification to a high-income outcome, two key changes were required: becoming married and securing a sales occupation. Marriage is a powerful indicator of financial stability in the Adult dataset, as married individuals often benefit from dual-income dynamics or reduced financial risk, which the model associates with higher earnings. Simultaneously, shifting from 'Blue-Collar' to 'Sales' leverages occupational prestige, as sales roles consistently correlate with incomes surpassing $50K due to commission structures and industry standards. These two modifications interact synergistically\u2014being married in a sales role signals a stable, high-earning household profile that the model recognizes as reliable for income classification. All other factors remained unchanged: age stayed at 33, workclass remained 'Private', education level remained 'School', and demographics like race and gender held neutral influence. This demonstrates how model decisions prioritize specific attribute combinations over isolated variables, showing that targeted changes to marital status and occupation can effectively alter outcomes without modifying other characteristics.", status: "success", ranking: { marital_status: 1, occupation: 1 } }
    ],
    nss: 0.85
  },
  
  california: {
    "factual": {
      "MedInc": 4.1944,
      "HouseAge": 33.0,
      "AveRooms": 4.667785234899329,
      "AveBedrms": 1.0369127516778522,
      "Population": 1038.0,
      "AveOccup": 3.4832214765100673,
      "Latitude": 34.12,
      "Longitude": -117.91,
      "MedHouseVal": 0
    },
    "counterfactual": {
      "MedInc": 11.6781,
      "HouseAge": 33.0,
      "AveRooms": 4.667785234899329,
      "AveBedrms": 1.0369127516778522,
      "Population": 10131.3,
      "AveOccup": 3.4832214765100673,
      "Latitude": 34.12,
      "Longitude": -117.91,
      "MedHouseVal": 1
    },
    raw_output: `<think>\nOkay, let me tackle this counterfactual explanation request. First, I need to carefully analyze the given inputs to construct a proper response. \n\nLooking at the dataset description, it's the California Housing dataset with a binary target (MedHouseVal=1 means above median house value). The factual example has MedHouseVal=0 (below median), and the counterfactual has MedHouseVal=1. The key differences are in MedInc (from 4.1944 to 11.6781) and Population (from 1038 to 10131.3). All other features remain identical.\n\nHmm, the challenge here is to correctly rank the feature contributions. From the drafts, they all agree income is the main driver but disagree slightly on population's role. Draft 1 says population \"amplifies\" the income effect, Draft 4 calls it \"secondary\" despite income overpowering population effects. But since population increased to 10k+ while income jumped to ~$117k, the model must treat them as interacting factors. \n\nI recall the dataset description mentions income is scaled ($10k per unit), so 4.1944\u2248$41.9k, 11.6781\u2248$116.8k. That's a massive income jump. Population went from small rural area to large urban area - classic urban density pattern. So income is definitely the dominant factor, but population change isn't negligible either.\n\nNow for the reasoning steps:\n\nFirst, identify feature changes: Only MedInc and Population changed. Target variable flipped from 0\u21921. Need to confirm population change is valid - yes, 1038\u219210131.3.\n\nNext, analyze contributions:\n- MedInc: Directly scales to income value. Higher income = stronger signal for high house value. Dataset says income is \"primary driver\" in multiple drafts.\n- Population: Increased to 10k+ residents. In housing markets, higher population usually correlates with higher demand AND potentially higher prices (though sometimes density lowers individual values). But here the model treats it as supportive. Why? Because the population increase happened alongside income increase - it's not just \"more people\" but \"with high income\". So population change doesn't contradict the income effect; it reinforces it.\n\nInteractions: They're perfectly aligned - high income + high population = urban area with strong housing demand. Model sees this as a \"desirable\" combination.\n\nImportance ranking: Must rank based on contribution. Since income is explicitly called \"primary\" in all drafts, and population is described as \"reinforcing,\" income gets rank 1. Population gets rank 2. No ties needed since income dominates.\n\nDraft integration: All drafts agree on income being #1, population #2. Draft 4 incorrectly says \"higher population density typically suggests lower individual values\" but that contradicts the model's behavior. Actually, the model uses population as a contextual factor that *supports* the positive outcome. So I'll prioritize the model's actual behavior over the general population effect.\n\nFor the summary (250 words):\nStart with the flip from 0\u21921. Emphasize income as the main driver (with exact dollar conversions). Note population increase as supporting factor. Clarify that population change doesn't mean \"lower values\" - it means \"combined with high income, it makes the area attractive.\" Mention other features stayed constant to isolate the change. Keep it natural, avoid jargon.\n\nWait - must include target variable in feature_changes. So MedHouseVal should appear as a feature change too. The instructions say \"include target variable in feature_changes list\".\n\nDouble-checking the counterfactual example: It shows MedHouseVal changing from 0 to 1. So yes, MedHouseVal must be listed as a feature change entry.\n\nNow structuring the JSON:\n\nfeature_changes will have:\n- MedInc: factual 4.1944 \u2192 counterfactual 11.6781\n- Population: factual 1038.0 \u2192 counterfactual 10131.3\n- MedHouseVal: factual 0 \u2192 counterfactual 1\n\nThen reasoning section needs to explain why income is #1, population #2.\n\nFeatures importance ranking: MedInc=1, Population=2.\n\nSummary must be ~250 words, flowing naturally. Avoid saying \"population increases\" without context - say \"population increased to 10,131 residents\" as in the counterfactual example.\n\nAlso note: Draft 5 says \"median income is the strongest driver\" - correct. Draft 4's error (\"income overpowered population effect\") is wrong per model behavior. Will correct that.\n\nFinal check: All drafts agree on the two changes, so no conflicts to resolve. Just merge the accurate parts from all drafts.\n\nWord count check: My planned summary should hit ~250 words. Will write concisely.\n\nNow writing the summary paragraph:\n\n\"To transition from a below-median to above-median housing value classification, the model requires two specific adjustments: increasing median income from $41,944 to $116,781 and expanding population to 10,131 residents. Median income serves as the dominant factor, as higher household earnings directly correlate with elevated property valuations in this dataset, making it the primary driver of the classification shift. Population growth, while significant, functions as a contextual reinforcement rather than a counteracting force. The model interprets the combination of high income and dense urban population as indicative of a desirable housing market, where economic prosperity and increased residential demand synergistically elevate median house values. All other features-including house age (33 years), average rooms (4.67), and geographic coordinates-remain unchanged, confirming that these two variables exclusively determine the outcome. The income increase alone would likely suffice to flip the classification, but the population adjustment strengthens the model's interpretation of a high-value neighborhood. This demonstrates how the model prioritizes socioeconomic indicators like income as the most reliable predictor, with demographic density acting as a supporting factor that aligns with real-world housing market dynamics.\"\n\nThat's about 200 words. Add a bit more detail on why population matters: \"In housing markets, higher population density often correlates with stronger demand and premium pricing, especially when paired with higher income levels, creating a cohesive signal for high-value properties.\"\n\nNow for the JSON structure, ensure all keys match the schema.\n\nFinally, output only the JSON without any extra text.\n</think>\n\n{\n    \"feature_changes\": [\n        {\n            \"MedInc\": {\n                \"factual\": \"4.1944\",\n                \"counterfactual\": \"11.6781\"\n            }\n        },\n        {\n            \"Population\": {\n                \"factual\": \"1038.0\",\n                \"counterfactual\": \"10131.3\"\n            }\n        },\n        {\n            \"MedHouseVal\": {\n                \"factual\": \"0\",\n                \"counterfactual\": \"1\"\n            }\n        }\n    ],\n    \"target_variable_change\": {\n        \"factual\": \"0\",\n        \"counterfactual\": \"1\"\n    },\n    \"reasoning\": \"The model's classification flips from below-median to above-median house value primarily due to two feature changes. Median income (scaled at $10,000 per unit) rises dramatically from $41,944 to $116,781, directly signaling heightened economic capacity for housing demand, which is the strongest predictor in this dataset. Population increases from 1,038 to 10,131 residents, reflecting urban density patterns where higher population correlates with stronger housing demand and premium pricing. These changes interact synergistically: high income amplifies the positive signal for property valuation, while population density confirms the neighborhood's market viability. Income contributes overwhelmingly to the classification shift, as evidenced by the model's explicit emphasis on it as the dominant factor in all drafts. Population acts as a contextual amplifier, reinforcing the positive outcome without contradicting it. No other features changed, confirming their neutrality. Income is ranked #1 due to its direct causal link to housing value, while population is ranked #2 as a supportive factor that aligns with urban market dynamics. The model interprets the combined effect as characteristic of high-value neighborhoods, where economic prosperity and density work together to drive up median house values.\",\n    \"features_importance_ranking\": {\n        \"MedInc\": \"1\",\n        \"Population\": \"2\"\n    },\n    \"explanation\": \"To transition from a below-median to above-median housing value classification, the model requires two specific adjustments: increasing median income from $41,944 to $116,781 and expanding population to 10,131 residents. Median income serves as the dominant factor, as higher household earnings directly correlate with elevated property valuations in this dataset, making it the primary driver of the classification shift. Population growth, while significant, functions as a contextual reinforcement rather than a counteracting force. The model interprets the combination of high income and dense urban population as indicative of a desirable housing market, where economic prosperity and increased residential demand synergistically elevate median house values. All other features-including house age (33 years), average rooms (4.67), and geographic coordinates-remain unchanged, confirming that these two variables exclusively determine the outcome. The income increase alone would likely suffice to flip the classification, but the population adjustment strengthens the model's interpretation of a high-value neighborhood. This demonstrates how the model prioritizes socioeconomic indicators like income as the most reliable predictor, with demographic density acting as a supporting factor that aligns with real-world housing market dynamics. The interaction between income and population creates a cohesive signal for premium housing, where economic capacity and urban density jointly validate the positive classification, providing actionable insight into how targeted socioeconomic adjustments can systematically alter model outcomes.\"\n}`,
    narrative: "To transition from a below-median to above-median housing value classification, the model requires two specific adjustments: increasing median income from $41,944 to $116,781 and expanding population to 10,131 residents. Median income serves as the dominant factor, as higher household earnings directly correlate with elevated property valuations in this dataset, making it the primary driver of the classification shift. Population growth, while significant, functions as a contextual reinforcement rather than a counteracting force. The model interprets the combination of high income and dense urban population as indicative of a desirable housing market, where economic prosperity and increased residential demand synergistically elevate median house values. All other features-including house age (33 years), average rooms (4.67), and geographic coordinates-remain unchanged, confirming that these two variables exclusively determine the outcome. The income increase alone would likely suffice to flip the classification, but the population adjustment strengthens the model's interpretation of a high-value neighborhood. This demonstrates how the model prioritizes socioeconomic indicators like income as the most reliable predictor, with demographic density acting as a supporting factor that aligns with real-world housing market dynamics. The interaction between income and population creates a cohesive signal for premium housing, where economic capacity and urban density jointly validate the positive classification, providing actionable insight into how targeted socioeconomic adjustments can systematically alter model outcomes.",
    drafts: [
      { text: "To transition from a low-value housing classification (below median) to a high-value one (above median), two critical adjustments were made: increasing median income from $41,944 to $116,781 and expanding the block group population from 1,038 to 10,131 residents. Median income is the primary driver, as higher household earnings consistently signal greater property valuations in this model. The population surge reflects urban density, which historically correlates with higher housing demand and premium pricing. Together, these changes create a cohesive scenario where elevated income enables greater residential capacity, reinforcing the model's valuation logic. While population alone might suggest a denser area, its combined effect with higher income creates a stronger signal for upward valuation. Other features remained unchanged, isolating these two variables as the sole influencers. The model prioritizes income as the decisive factor, with population acting as a contextual amplifier, demonstrating how socioeconomic and demographic factors jointly shape housing predictions.", status: "success", ranking: { MedInc: 1, Population: 2 } },
      { text: "The model's decision flipped from denial (0) to approval (1) primarily due to a substantial increase in median income from $41,944 to $116,781, which directly signals higher housing value potential in this dataset. Population also increased moderately from 1,038 to 10,131 residents, suggesting a denser, more affluent neighborhood that further supports the positive classification. All other features-including house age (33 years), average rooms (4.67), and bedroom ratios-remained unchanged, confirming their neutral role. The model prioritizes income as the dominant factor, with population growth acting as a reinforcing element. This demonstrates how socioeconomic indicators interact to determine housing value classifications, where income level is the most critical determinant. A significant income increase alone would suffice to alter the outcome, with population growth providing additional contextual support without requiring major adjustments to other variables.", status: "success", ranking: { MedInc: 1, Population: 2 } },
      { text: "The model predicts your block group's median house value is below the threshold (0) primarily due to low median income ($41,944) and moderate population size (1,038 residents). To achieve approval (1), increasing median income to approximately $117,000 would be the most impactful change, as income is a fundamental driver of housing value in this model. This adjustment alone would likely trigger the positive classification, reflecting improved economic capacity for homeownership. Concurrently, raising the population to 10,131 residents provides additional support, as higher population density typically correlates with stronger housing demand and market activity. While both changes are necessary, the income modification exerts the greatest influence because it directly quantifies household purchasing power-a key factor in housing valuation models. All other features-including house age, room counts, and geographic coordinates-remained unchanged, isolating the classification shift to these two variables. The model interprets the combined effect of elevated income and increased population as indicative of a desirable housing market condition, thus flipping the prediction. This highlights how targeted socioeconomic adjustments can systematically alter model outcomes, offering actionable insight into potential improvements for similar scenarios.", status: "success", ranking: { MedInc: 1, Population: 2 } },
      { text: "The model's decision shifted from 'below median house value' to 'above median' primarily due to a substantial increase in median household income. Raising the median income from $41,900 to $116,800 (scaled as 4.1944 to 11.6781) directly signals greater economic capacity for homeownership, which strongly correlates with higher property values in the dataset. This income adjustment represents the most significant single change influencing the model's prediction. While population also increased significantly-from 1,038 to 10,131 residents-the model treated this as a secondary factor. Although higher population density typically suggests lower individual property values, the income increase overpowered this effect, leading to the favorable classification. The model prioritizes income as the strongest predictor, with population serving as a contextual factor that did not hinder the outcome. Other features remained constant, confirming that income was the decisive factor. The model's behavior aligns with real-world housing economics where higher income levels consistently correlate with elevated median home values across diverse regions.", status: "success", ranking: { MedInc: 1, Population: 2 } },
      { text: "To transition from a below-median to above-median house value classification, the model identifies two key adjustments: increasing median income to approximately $116,781 and raising population density to 10,131 residents per block group. Median income is the strongest driver of this outcome, as higher earnings directly correlate with greater housing affordability and market value in the model's training data. Population growth, while less direct, functions as a contextual factor that supports the positive classification by reflecting urban density patterns where higher population often coincides with elevated property values. These changes collectively create a scenario consistent with neighborhoods where economic prosperity and dense population coexist, signaling stronger demand for housing. The model's decision hinges on these two interrelated factors, with income being the decisive element. By modifying only these features, the model achieves the desired classification change, highlighting how socioeconomic and demographic characteristics jointly influence housing value predictions.", status: "success", ranking: { MedInc: 1, Population: 2 } }
    ],
    nss: 0.85
  },

  titanic: {
    "counterfactual": {
      "Pclass": 3,
      "Sex": "female",
      "Age": 48.0,
      "SibSp": 1,
      "Parch": 1,
      "Fare": 39.6,
      "Embarked": "C",
      "Survived": 0
    },
    "factual": {
      "Pclass": 1,
      "Sex": "female",
      "Age": 48.0,
      "SibSp": 1,
      "Parch": 0,
      "Fare": 39.6,
      "Embarked": "C",
      "Survived": 1
    },
    raw_output: `<think>\nOkay, let me tackle this counterfactual explanation problem step by step. First, I need to understand all the components given: the Titanic dataset context, factual vs counterfactual examples, and five draft explanations to integrate.\n\nLooking at the factual example: it's a female in first class (Pclass 1) with age 48, one sibling/spouse (SibSp=1), no parents/children (Parch=0), paying $39.60 fare, boarding from Cherbourg (Embarked=C), and she survived (Survived=1). \n\nThe counterfactual example shows the same person but now in third class (Pclass=3), with one parent/child (Parch=1), still female, same age/sibsp/fare/embarked, but now didn't survive (Survived=0). So the key changes are Pclass from 1 to 3, and Parch from 0 to 1.\n\nNow, I need to analyze why this happened. From Titanic history, first-class passengers had better access to lifeboats. Third-class passengers were often stuck below deck with limited escape routes. Also, women and children got priority, so even if a woman was in third class, she'd still have some chance, but not as much as first-class. But here, the counterfactual has Parch=1 (meaning one parent/child), which historically made things harder because families were separated during the chaos. \n\nChecking the drafts: all agree Pclass change is the main factor, but disagree slightly on whether Parch matters. Draft 1 says Parch is \"marginally improved\" but overwhelmed by class. Drafts 2,3,4,5 all say Parch has secondary effect. But actually, in reality, third-class passengers with kids had even lower survival rates. So the model probably sees Parch as having a slight negative effect too.\n\nWait, looking at the dataset description: Parch counts parents/children aboard. So changing from 0 to 1 means adding one parent/child. But in third class, adding family members actually increased risk. So the model would treat both changes together.\n\nFor importance ranking: Pclass change is massive (from 1\u21923), while Parch change is small (0\u21921). But since both are present, we need to see which dominates. The drafts all say Pclass is dominant, with Parch as secondary. So rank Pclass #1, Parch #2.\n\nBut wait - the target variable change is from 1 to 0. So the factual has Survived=1, counterfactual has Survived=0. Need to include that in feature_changes too, as per instructions.\n\nNow, checking the drafts for conflicts: Draft 1 says \"addition of parent offers small counterbalance but cannot override class disadvantage\". Draft 2 says \"Parch's contribution was secondary\". Draft 3 says \"family composition acting as supporting factor\". Draft 4 says \"addition of one parent/child further contributes\". Draft 5 says \"secondary influence came from family composition\".\n\nAll agree Pclass is primary, Parch is secondary. No real contradiction. So I'll merge them: Pclass is most important, Parch is less important.\n\nFor reasoning: Need to explain why Pclass change causes death, and why Parch change adds to it. Use dataset facts: first-class survival ~63%, third-class ~25% for women. Adding family member in third class increases risk because families were separated.\n\nImportance ranking: Pclass #1, Parch #2. Since both are changed, and Pclass is way more impactful, it's 1 and 2.\n\nNow, drafting the explanation summary. Must be ~250 words, flowing naturally.\n\nStart with the key change: moving from Pclass 1 to 3. Explain historical context: first-class had better lifeboat access. Then mention Parch change: adding one parent/child in third class. Note that gender stayed female, so it's not about gender being the issue. Emphasize that class change is dominant, family change is secondary.\n\nAvoid saying \"the model thinks\" - use \"historical data shows\" or \"training data reflects\".\n\nCheck word count: aim for 250. Will write:\n\n\"The shift from survival to non-survival stems predominantly from the passenger moving from first-class (Pclass 1) to third-class (Pclass 3), which historically correlates with significantly reduced survival probabilities. First-class passengers enjoyed privileged access to lifeboats and evacuation routes, yielding approximately 63% survival rates, whereas third-class passengers faced severe physical barriers limiting lifeboat access, resulting in around 25% survival for females. The addition of a parent/child (Parch 0\u21921) further contributed to the non-survival outcome, as third-class passengers with family members experienced heightened evacuation difficulties due to crowded conditions and family separation during the disaster. While gender remained female-a strong positive factor-the model prioritizes socioeconomic status over familial context in this scenario. The combined effect of lower socioeconomic status (Pclass 3) and family presence (Parch 1) creates a risk profile that aligns with historical patterns where third-class passengers with dependents had markedly lower survival odds. This demonstrates how the model leverages class as the dominant predictor, with family composition serving as a secondary influencing factor. The transformation highlights the model's sensitivity to structural inequalities embedded in the training data, where class-based disparities strongly determine survival outcomes.\"\n\nCount words... about 200. Need to add a bit more to reach ~250.\n\nAdd: \"The model's training data reflects that for females, the transition from Pclass 1 to 3 alone would have led to non-survival, as evidenced by the low survival rate for third-class women. The addition of a parent/child provides only marginal reinforcement to this outcome, underscoring that socioeconomic status exerts a far greater influence than familial relationships in shaping survival predictions.\"\n\nThat should hit ~250.\n\nNow, check against all drafts. All agree on Pclass being #1, Parch #2. No contradictions to resolve.\n\nFinally, structure the JSON as specified.\n\nFeature changes: Pclass (1\u21923), Parch (0\u21921), and Survived (1\u21920). Wait, Survived is the target variable, so must include it in feature_changes? Yes, per instructions: \"include also the target variable in the feature_changes list.\"\n\nSo feature_changes will have:\n- Pclass: factual 1 \u2192 counterfactual 3\n- Parch: factual 0 \u2192 counterfactual 1\n- Survived: factual 1 \u2192 counterfactual 0\n\nThen target_variable_change is just Survived.\n\nReasoning: as above.\n\nImportance ranking: Pclass=1, Parch=2.\n\nExplanation: the summary paragraph.\n\nNow, write the JSON accordingly.\n</think>\n\n{\n    \"feature_changes\": [\n        {\n            \"Pclass\": {\n                \"factual\": 1,\n                \"counterfactual\": 3\n            }\n        },\n        {\n            \"Parch\": {\n                \"factual\": 0,\n                \"counterfactual\": 1\n            }\n        },\n        {\n            \"Survived\": {\n                \"factual\": 1,\n                \"counterfactual\": 0\n            }\n        }\n    ],\n    \"target_variable_change\": {\n        \"factual\": 1,\n        \"counterfactual\": 0\n    },\n    \"reasoning\": \"The classification shift from survival to non-survival is driven primarily by the Pclass change from 1 to 3, which historically correlates with drastically reduced survival probabilities for females. First-class passengers (Pclass 1) had approximately 63% survival rates due to privileged access to lifeboats and evacuation routes, while third-class passengers (Pclass 3) faced severe physical barriers limiting lifeboat access, resulting in around 25% survival rates for females. The Parch change from 0 to 1 adds marginal reinforcement to the non-survival outcome, as third-class passengers with family members experienced heightened evacuation difficulties due to crowded conditions and family separation during the disaster. However, the Pclass change alone would have caused non-survival, as historical data shows third-class females consistently demonstrated high mortality rates regardless of family presence. The model prioritizes socioeconomic status over familial context, with Pclass contributing overwhelmingly to the outcome, while Parch serves as a secondary factor. This aligns with the training data's strong correlation between Pclass and survival, where class status is the dominant predictor.\",\n    \"features_importance_ranking\": {\n        \"Pclass\": 1,\n        \"Parch\": 2\n    },\n    \"explanation\": \"The shift from survival to non-survival results primarily from the passenger moving from first-class (Pclass 1) to third-class (Pclass 3), which fundamentally alters survival likelihood due to historical disparities in lifeboat access. First-class passengers enjoyed privileged positioning near lifeboats, achieving approximately 63% survival rates, while third-class passengers faced physical barriers limiting evacuation, resulting in around 25% survival for females. The addition of a parent/child (Parch 0\u21921) further contributes to the non-survival outcome, as third-class passengers with family members experienced heightened evacuation difficulties due to crowded conditions and family separation during the disaster. However, the Pclass change alone would have caused non-survival, as evidenced by the low survival rate for third-class females in the training data. The model prioritizes socioeconomic status as the dominant factor, reflecting real-world patterns where class determined survival access. Family composition acts as a secondary influence, reinforcing the negative outcome rather than overriding it. This demonstrates how the model leverages class-based disparities as the primary determinant of survival predictions, with familial context providing only marginal reinforcement. The transformation highlights the model's sensitivity to structural inequalities embedded in the training data, where socioeconomic status exerts a far greater influence than familial relationships in shaping outcomes.\"\n}`,
    narrative: "The shift from survival to non-survival results primarily from the passenger moving from first-class (Pclass 1) to third-class (Pclass 3), which fundamentally alters survival likelihood due to historical disparities in lifeboat access. First-class passengers enjoyed privileged positioning near lifeboats, achieving approximately 63% survival rates, while third-class passengers faced physical barriers limiting evacuation, resulting in around 25% survival for females. The addition of a parent/child (Parch 0\u21921) further contributes to the non-survival outcome, as third-class passengers with family members experienced heightened evacuation difficulties due to crowded conditions and family separation during the disaster. However, the Pclass change alone would have caused non-survival, as evidenced by the low survival rate for third-class females in the training data. The model prioritizes socioeconomic status as the dominant factor, reflecting real-world patterns where class determined survival access. Family composition acts as a secondary influence, reinforcing the negative outcome rather than overriding it. This demonstrates how the model leverages class-based disparities as the primary determinant of survival predictions, with familial context providing only marginal reinforcement. The transformation highlights the model's sensitivity to structural inequalities embedded in the training data, where socioeconomic status exerts a far greater influence than familial relationships in shaping outcomes.",
    drafts: [
      {text: "The model's decision shifted from survival to non-survival primarily due to the downgrade from first to third class, which fundamentally altered the passenger's access to life-saving resources. Historically, first-class passengers enjoyed privileged positions near lifeboats, enabling higher survival rates, whereas third-class passengers were confined to lower decks with limited evacuation options. Although adding a parent (Parch 0\u21921) marginally improved survival odds by suggesting family support during the crisis, this effect was entirely overshadowed by the class-related disadvantage. The model interprets the class change as the dominant factor, reflecting real-world survival patterns where socioeconomic status directly impacted outcomes. The addition of a parent offers a small counterbalance but cannot override the systemic risk associated with lower class status. Together, these changes demonstrate how the model prioritizes class as the most influential predictor, with familial context playing a negligible secondary role in reversing the survival outcome.", status: "success", ranking: { Pclass: 1, Parch: 2 }},
      {text: "The passenger's survival outcome shifted from 'survived' to 'not survived' primarily due to moving from first-class (Pclass 1) to third-class (Pclass 3), which drastically reduced her survival probability according to the model's training patterns. Historical data reveals that third-class passengers, especially females, faced severe disadvantages in accessing lifeboats due to physical barriers and crew prioritization. Although adding one parent aboard (Parch 1) marginally improved survival odds-likely reflecting family support networks-the negative impact of lower socioeconomic status overwhelmed this benefit. The model treats Pclass as the decisive factor, as evidenced by its overwhelming predictive weight in the training data where Pclass 3 females consistently demonstrated high mortality rates. Parch's contribution was secondary, as it alone cannot reverse the outcome once Pclass is altered. This highlights how socioeconomic status fundamentally shapes survival predictions, with even minor adjustments to family composition failing to mitigate the systemic disadvantage associated with third-class travel.", status: "success", ranking: { Pclass: 1, Parch: 2 }},
      {text: "The passenger's survival prediction shifted from 'yes' to 'no' due to two key changes: moving from first class to third class and adding a parent aboard. First-class passengers enjoyed superior access to lifeboats and evacuation resources, making the transition to third class the dominant factor in reducing survival likelihood. Third-class passengers faced severe physical and logistical barriers, leading to drastically lower survival rates in historical records. The addition of a parent (Parch=1) further reinforced the negative outcome, as the model learned that female travelers in third class with family members experienced heightened risks-likely due to crowded conditions or family separation during the disaster. While gender (female) typically improves survival odds, the model prioritizes class over family size in this context, treating the combined effect of lower socioeconomic status and familial presence as a critical risk indicator. This reflects real-world dynamics where third-class passengers were often trapped in lower decks with limited escape options, and families with children were frequently separated during chaos. The model thus identifies class as the primary driver of the classification change, with family composition acting as a supporting factor. Together, these adjustments align with the training data's patterns where similar profiles consistently resulted in non-survival, providing actionable insight into the model's decision logic.", status: "success", ranking: { Pclass: 1, Parch: 2 }},
      {text: "The model predicts survival for the factual passenger (female, age 48, first-class passenger with one sibling/spouse and no parents/children) but predicts non-survival for the counterfactual passenger (female, age 48, third-class passenger with one parent/child). The transition from first-class to third-class accommodation is the dominant factor, as historical data shows third-class passengers had drastically reduced survival odds due to physical barriers limiting lifeboat access. This change alone would likely result in non-survival, reflecting the model's strong reliance on socioeconomic status as a primary predictor. The addition of one parent/child aboard (Parch 0\u21921) further contributes to the non-survival prediction, as the model recognizes that in third-class settings, passengers traveling with family members encountered greater evacuation difficulties. While gender remains unchanged ('female'), the shift to lower socioeconomic status fundamentally alters the model's assessment. The model's interpretation mirrors real-world patterns where class served as a powerful proxy for survival probability, with family presence acting as a reinforcing factor. Together, these changes highlight how the model prioritizes class as the most influential feature, with family composition providing supplementary context to the negative outcome. This demonstrates the model's sensitivity to socioeconomic indicators, revealing that even a single feature change can completely reverse the prediction when combined with contextual elements.", status: "success", ranking: { Pclass: 1, Parch: 2 }},
      {text: "The model's decision shifted from survival to non-survival primarily due to moving from first-class to third-class accommodation, which carries a strong negative association with survival probability. Historical data shows that first-class passengers enjoyed significantly higher survival rates (approximately 63%) compared to third-class passengers (around 25%), making this change the dominant factor. While adding a parent or child (increasing Parch from 0 to 1) typically improves survival odds, this effect was insufficient to counteract the detrimental impact of third-class status. The model interprets the combination of lower socioeconomic status and family presence as indicative of heightened risk, reflecting real-world patterns where third-class passengers with dependents faced greater challenges accessing lifeboats. Although the addition of a child generally supports survival, the model's training data emphasizes that for females in third class, the presence of family members further reduced survival likelihood. Thus, the transition to third class dominated the classification outcome, making it the most critical factor. The secondary influence came from the family composition adjustment, which modestly contributed to the negative result but lacked the decisive impact of the class change. Together, these alterations illustrate how socioeconomic factors like passenger class exert a far greater influence on survival predictions than familial relationships in this model. This underscores the model's sensitivity to class-based disparities, highlighting that even small adjustments to passenger characteristics can fundamentally alter outcomes when interacting with structural biases embedded in the training data.", status: "success", ranking: { Pclass: 1, Parch: 2 }}
    ]
  },

  diabetes: {
    "counterfactual": {
      "age": 50.0,
      "sex": "Female",
      "bmi": 23.7,
      "bp": 92.0,
      "s1": 166.0,
      "s2": 97.0,
      "s3": 52.0,
      "s4": 3.3,
      "s5": 5.4165,
      "s6": 93.0,
      "target": 1
    },
    "factual": {
      "age": 50.0,
      "sex": "Female",
      "bmi": 23.7,
      "bp": 92.0,
      "s1": 166.0,
      "s2": 97.0,
      "s3": 52.0,
      "s4": 3.0,
      "s5": 4.4427,
      "s6": 93.0,
      "target": 0
    },
    raw_output: `<think>\nOkay, let me tackle this counterfactual explanation request. First, I need to carefully analyze all the given inputs to construct a proper response. \n\nLooking at the dataset description, it's the LARS diabetes dataset with 11 features including age, sex, bmi, and various serum measurements. The target is disease progression (0 = lower, 1 = higher). The factual and counterfactual examples show identical values except for s4 (from 3.0 to 3.3) and s5 (from 4.44 to 5.42), with target flipping from 0 to 1.\n\nHmm, the drafts all agree on the two changed features, but I notice some inconsistencies in their interpretation of the feature meanings. For example, Draft 1 says s5=4.44 corresponds to ~85 mg/dL, but actually the note says s5 is log-scale so 4.44 \u2248 e^4.44 \u2248 85 mg/dL. Similarly, 5.42 \u2248 e^5.42 \u2248 227 mg/dL. So I'll need to correctly convert those log values to actual triglyceride levels.\n\nNow checking for feature interactions: Draft 2 mentions \"equal contribution,\" while Draft 5 says \"independent yet complementary.\" But looking at the dataset description, s4 is defined as \"Total Cholesterol / HDL Ratio\" which is a known risk factor, and s5 is \"Log of Serum Triglycerides\" which is directly related to metabolic health. Since both are established risk markers, they likely interact meaningfully.\n\nFor importance ranking: All drafts treat s4 and s5 as equally important. Draft 2 explicitly states \"equal contribution,\" and Draft 5 says \"each contributing equally.\" There's no indication one has stronger influence than the other in the dataset description itself. The fact that both changes simultaneously cause the flip suggests they're equally weighted in the model's decision boundary.\n\nWait, but Draft 4 incorrectly claims \"reducing s4 to 2.8\" to maintain stability, which contradicts the counterfactual. Actually, the counterfactual shows s4 increasing to 3.3, so we must focus on the *change* causing the flip, not the opposite direction. The model sees s4 rising from 3.0 to 3.3 (still below 3.5 threshold mentioned in Draft 2) and s5 rising from 4.44 to 5.42 (hypertriglyceridemia). \n\nLet me verify the thresholds:\n- s4 > 3.5 = high risk (Draft 2)\n- s5 > 5.0 = hypertriglyceridemia (per standard medical guidelines)\n\nSo both changes push beyond these thresholds, making them equally impactful. The model treats them as parallel risk drivers without hierarchy.\n\nFor the explanation synthesis:\n- Must cite exact feature changes (s4 and s5 with values)\n- Explain why they matter: s4 ratio >3.5 indicates risk, s5 >5.0 indicates hypertriglyceridemia\n- Emphasize synergy: both markers are clinically significant and interact to create a high-risk profile\n- Clarify that all other features remain constant\n\nI notice Draft 5 mistakenly says \"reducing s4 to 2.8\" - that's incorrect for the counterfactual. We must stick to the counterfactual values given. Also, Draft 4's claim about \"reducing\" s4 is wrong contextually since we're changing *upward* to cause the flip.\n\nFor the importance ranking, since both features contribute equally to the flip (as per Draft 2 and 5), they get tied rank #1. No other features changed, so no need to rank others.\n\nNow structuring the JSON:\n- feature_changes will list all features, including target\n- target_variable_change shows 0\u21921\n- reasoning explains equal contribution via clinical thresholds\n- importance ranking: [s4, s5] with rank 1\n- explanation synthesizes all valid points from drafts, correcting errors\n\nDouble-checking conversions:\n- s5=4.44 \u2192 exp(4.44)=85 mg/dL (correct per dataset note)\n- s5=5.42 \u2192 exp(5.42)=227 mg/dL (correct)\n\nAll drafts correctly convert s5 to mg/dL, so I'll use that conversion in the explanation.\n\nFinally, the summary needs to be ~250 words, flowing naturally without lists. I'll avoid mentioning other features since they're unchanged, and emphasize the dual biomarker effect.\n</think>\n\n{\n    \"feature_changes\": [\n        {\n            \"s4\": {\n                \"factual\": 3.0,\n                \"counterfactual\": 3.3\n            }\n        },\n        {\n            \"s5\": {\n                \"factual\": 4.4427,\n                \"counterfactual\": 5.4165\n            }\n        },\n        {\n            \"target\": {\n                \"factual\": 0,\n                \"counterfactual\": 1\n            }\n        }\n    ],\n    \"target_variable_change\": {\n        \"factual\": 0,\n        \"counterfactual\": 1\n    },\n    \"reasoning\": \"The classification flips from 'Lower Progression' (0) to 'Higher Progression' (1) due to two key feature changes: s4 (Total Cholesterol/HDL Ratio) rising from 3.0 to 3.3 and s5 (Log of Serum Triglycerides) increasing from 4.44 to 5.42. Clinically, s4 > 3.5 indicates high cardiovascular risk, and s5 > 5.0 signifies hypertriglyceridemia (\u2265150 mg/dL). Both changes individually exceed standard risk thresholds, creating a synergistic risk profile where elevated s4 reflects poor lipid management and s5 indicates severe metabolic dysfunction. The model treats these features as equally contributory: neither change alone would trigger reclassification, as confirmed by the identical values across all other features (age, sex, BMI, blood pressure, s1\u2013s3, s6). The interaction between s4 and s5 amplifies the risk signal, as hypertriglyceridemia often accompanies unfavorable cholesterol ratios. This demonstrates the model's sensitivity to these specific biomarker combinations, which together form a definitive pattern for rapid disease deterioration.\",\n    \"features_importance_ranking\": {\n        \"s4\": 1,\n        \"s5\": 1\n    },\n    \"explanation\": \"The model classifies your case as 'Lower Progression' (stable) when your Total Cholesterol/HDL Ratio (s4) is 3.0 and Log Triglycerides (s5) is 4.44. However, if your s4 increases to 3.3 and s5 rises to 5.42, the model predicts 'Higher Progression' (rapid deterioration). This shift occurs because s4 exceeding 3.5 signals heightened cardiovascular risk, while s5 surpassing 5.0 indicates severe hypertriglyceridemia-a critical metabolic abnormality strongly linked to accelerated diabetes complications. These two features interact meaningfully: elevated s4 reveals poor lipid management, while s5 quantifies dangerously high triglyceride levels, creating a combined risk profile that the model interprets as indicative of worsening disease. Crucially, all other health metrics remain unchanged, confirming that these two biomarker alterations alone determine the classification. The model treats s4 and s5 as equally influential-neither change alone would trigger the reclassification-but their combined effect creates a high-risk signature that crosses the model's decision boundary. This counterfactual highlights how specific, clinically relevant changes in lipid profiles can fundamentally alter predicted disease trajectories, offering clear, actionable insight for targeted health interventions focused on improving these critical biomarkers.\"\n}`,
    narrative: "The model classifies your case as 'Lower Progression' (stable) when your Total Cholesterol/HDL Ratio (s4) is 3.0 and Log Triglycerides (s5) is 4.44. However, if your s4 increases to 3.3 and s5 rises to 5.42, the model predicts 'Higher Progression' (rapid deterioration). This shift occurs because s4 exceeding 3.5 signals heightened cardiovascular risk, while s5 surpassing 5.0 indicates severe hypertriglyceridemia-a critical metabolic abnormality strongly linked to accelerated diabetes complications. These two features interact meaningfully: elevated s4 reveals poor lipid management, while s5 quantifies dangerously high triglyceride levels, creating a combined risk profile that the model interprets as indicative of worsening disease. Crucially, all other health metrics remain unchanged, confirming that these two biomarker alterations alone determine the classification. The model treats s4 and s5 as equally influential-neither change alone would trigger the reclassification-but their combined effect creates a high-risk signature that crosses the model's decision boundary. This counterfactual highlights how specific, clinically relevant changes in lipid profiles can fundamentally alter predicted disease trajectories, offering clear, actionable insight for targeted health interventions focused on improving these critical biomarkers.",
    drafts: [
      {text: "The model predicts higher disease progression (target=1) primarily due to two key changes in blood chemistry: raising the total cholesterol/HDL ratio (s4) from 3.0 to 3.3 and increasing the log-triglyceride level (s5) from 4.44 to 5.42. A ratio above 3.0 signifies elevated cardiovascular risk, while the jump in s5 reflects dangerously high triglycerides (from ~85 mg/dL to ~227 mg/dL), a marker strongly associated with accelerated diabetes complications. These alterations work together to create a compelling risk profile-high triglycerides often accompany unhealthy cholesterol ratios-and collectively override the stability implied by the original values. Neither change alone would have triggered the reclassification; instead, their combined effect creates a pattern consistent with rapid disease deterioration. Clinically, this highlights how small, targeted improvements in lipid management could prevent such progression, offering a clear path for intervention.", status: "success", ranking: { s4: 1, s5: 1 }},
      {text: "To achieve a higher disease progression outcome (target=1), the model identifies two key changes: increasing the total cholesterol/HDL ratio (s4) from 3.0 to 3.3 and elevating the log-transformed serum triglycerides (s5) from 4.44 to 5.42. These alterations reflect clinically significant shifts in metabolic health indicators. The s4 increase pushes the ratio above the high-risk threshold (\u22653.5), indicating diminished protective HDL levels relative to total cholesterol. Simultaneously, the s5 rise translates to substantially higher triglyceride levels (approximately 85 mg/dL to 227 mg/dL), crossing the hypertriglyceridemia boundary (\u2265150 mg/dL). Both changes independently signal accelerated disease risk, and their combined effect creates a compelling risk profile that the model interprets as indicative of rapid deterioration. All other features-including age, sex, BMI, blood pressure, and fasting glucose-remain unchanged, confirming that the model's reclassification hinges solely on these two biochemical markers. The equal contribution of s4 and s5 to the classification flip underscores their comparable predictive power within the model's training data, where similar combinations consistently align with adverse outcomes. This counterfactual highlights how specific metabolic parameters, when altered within realistic ranges, can trigger a clinically meaningful shift in predicted disease trajectory, offering actionable insight for personalized health interventions.", status: "success", ranking: { s4: 1, s5: 1 }},
      {text: "To achieve a higher disease progression classification, two specific changes to your health metrics would be required. Increasing your total cholesterol-to-HDL ratio from 3.0 to 3.3 moves you into a high-risk category, as this ratio directly correlates with accelerated disease worsening. Simultaneously, raising your log-triglyceride level from 4.44 to 5.42 reflects a substantial increase in actual triglycerides-from approximately 85 mg/dL to 226 mg/dL-which is clinically significant for metabolic instability. These two changes work synergistically: the elevated cholesterol-to-HDL ratio indicates poor lipid management, while the triglyceride surge suggests impaired carbohydrate metabolism. Together, they create a profile consistent with rapidly progressing diabetes, overriding other stable factors like age, BMI, or blood sugar. The model interprets this combination as a strong indicator of deteriorating health, hence the shift from 'lower progression' (stable condition) to 'higher progression' (rapid worsening). Neither change alone would alter the outcome, but their joint impact fundamentally reclassifies your risk status.", status: "success", ranking: { s4: 1, s5: 1 }},
      {text: "To achieve a lower disease progression risk, your current health metrics indicate stability. Specifically, your cholesterol-to-HDL ratio (s4) is currently at 3.0, which is within a generally favorable range. However, if your ratio increased to 3.3-a threshold associated with heightened cardiovascular risk-and your log-triglycerides (s5) rose to 5.42 (equivalent to approximately 225 mg/dL), the model would classify you as having higher disease progression. These two changes interact synergistically: elevated s4 reflects poor lipid management, while the s5 increase signifies severe hypertriglyceridemia, both strongly linked to accelerated diabetic complications. Neither change alone would likely trigger such a shift, but together they create a compelling signal for adverse outcomes. The model treats these features as highly interdependent risk markers-s4's slight rise compounds the severity indicated by s5's substantial jump. Notably, all other factors remain constant, confirming that these two biomarker alterations are sufficient to cross the classification boundary. This highlights how small yet clinically meaningful shifts in key lipid parameters can fundamentally reshape predictive outcomes, providing actionable insight for managing disease trajectory through targeted interventions focused on improving these specific lipid metrics.", status: "success", ranking: { s4: 1, s5: 1 }},
      {text: "To achieve a lower disease progression outcome, maintaining your current health metrics would be essential. Specifically, reducing your Total Cholesterol/HDL Ratio (s4) to 2.8 and keeping your Log Triglycerides (s5) at 4.44 would sustain stability. However, if your s4 increases to 3.3 and s5 rises to 5.42, the model predicts higher disease progression. This occurs because s4 directly reflects cardiovascular risk-higher values indicate greater likelihood of complications-and s5 quantifies triglyceride levels, where elevated levels correlate strongly with metabolic dysfunction. Together, these two changes create a synergistic effect: the increased s4 ratio amplifies the risk signal, while the elevated s5 level further confirms metabolic instability. Clinically, both are critical indicators; s4 integrates total cholesterol and HDL, providing a holistic assessment of lipid profile, while s5 isolates triglyceride concentration-a direct marker of insulin resistance. The model treats them as independent yet complementary risk factors, each contributing equally to the classification shift. No other features were adjusted, confirming that these two parameters alone determine the outcome. By highlighting these specific changes, the explanation clarifies that even minor adjustments to key biomarkers can significantly alter predictive outcomes, emphasizing the model's sensitivity to physiological markers like cholesterol ratios and triglycerides.", status: "success", ranking: { s4: 1, s5: 1 }}
    ]
  }
};

export default demoNarratives;
